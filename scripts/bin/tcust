#!/bin/bash
SESSION_NAME="fe-customer"

if tmux has-session -t $SESSION_NAME 2>/dev/null; then
	echo "Session $SESSION_NAME already exists. Attaching..."
else
	tmux new-session -d -s $SESSION_NAME
	tmux rename-window 'run'
	tmux send-keys -t run 'cd ~/projects/fe-monorepo' C-m
	tmux send-keys -t run 'pnpm caddy' C-m
	tmux new-window -n app
	tmux send-keys -t app 'cd ~/projects/fe-monorepo' C-m
	tmux send-keys -t app 'pnpm dev:customer' C-m
	tmux new-window -n general
	tmux send-keys -t general 'cd ~/projects/fe-monorepo' C-m
fi

tmux attach -t $SESSION_NAME
